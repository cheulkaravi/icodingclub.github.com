<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="description" content="A step-by-step tutorial for creating a modular template based widget in DOJO.We will create a simple counter widget first and put the event on it">
    <title>DOJO AMD: Simple template based widget.</title>
    <link rel="stylesheet" type="text/css" href="/resource/css/base.min.css">
    <link rel="shortcut icon" href="/resource/image/favicon.png" />
</head>

<body>
    <header>
        <section class="author">
            <div class="info">
                <h1>Praveen Singh</h1>
                <h2>-Author</h2>
            </div>
            <a href="/about.html">
                <div class="pic"></div>
            </a>
        </section>
        <a class="logo" href="http://icodingclub.github.com/">
            <h1>&lt;icodingclub/&gt;
                <h1>
        </a>
    </header>
    <div id="tableContainer">
        <section class="main demo-wrraper">

            <section>
                <h1 class="section-heading">Introduction`
                    <span class="arrow"></span>
                </h1>
                <br>
                <h1 class="articleTitle">DOJO AMD: Inheritance or MixIn in DOJO, using declare</h1>
                <p>A step-by-step tutorial to explain Inheritance or more correctly MixIn in DOJO, using declare.</p>

            </section>
            <section>
                <h1 class="section-heading">step by step video tutorial
                    <span class="arrow"></span>
                </h1>
                <br>

                <br>
                <img src="/resource/image/youTubePlaceholder.gif">
            </section>

            <section>
                <h1 class="section-heading">Setup
                    <span class="arrow"></span>
                </h1>
                <br/>

                <ol>
                    <li>Build package structure like below.
                        <br>
                        <br>
                        <img src="image/dojo-amd-inheritance.png">


                    </li>
                    <li>Run everything in a server. If you are on mac, Simplest way is, run: python -m SimpleHTTPServer 8888 at DOJO_TEST level. On window....find similar way.</li>
                </ol>

            </section>
            <section>
                <h1 class="section-heading">Code
                    <span class="arrow"></span>
                </h1>
                <br/>

                <h3>A simple hook up index file</h3>
                <br>

                <div class="path">
                    <span>Path:</span>DOJO_TEST/app/module/index.html</div>
                <pre class="prettyprint lang-html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
 &lt;title&gt;Counter&lt;/title&gt;
 &lt;script&gt;
 var dojoConfig = {
 async: true,
 packages: [{
 name: "app",
 location: "/DOJO_TEST/app"
 }]
 };
 &lt;/script&gt;

&lt;/head&gt;

&lt;body&gt;
 &lt;script src="/DOJO_TEST/lib/dojo/dojo/dojo.js" data-dojo-config="async: true"&gt;&lt;/script&gt;
 &lt;script type="text/javascript"&gt;
 require(["app/module/Modules"],
 function(Modules) {
 var widget = new Modules();
 });
 &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;

                </pre>


                <br>
                <h3>Creating a multiple Inheritance scenario in DOJO.</h3>
                <br>
                <h3>Checking constructor call and instanceof.</h3>

                <div class="path">
                    <span>Path:</span>DOJO_TEST/app/module/Modules.js</div>
                <pre class="prettyprint lang-js">
/**
 * define() is a foundational AMD API.
 * It allows us to define a module and its dependencies.
 * Once dojo/query and dojo/on are loaded (which doesn't happen until their dependencies are loaded, and so on),
 * the callback function is called and module instance passed to it.
 */

define([
    "dojo/_base/declare"
], function(declare) {

    var A = declare(null, {

        constructor: function() {

            console.log("In constructor A");
        }
    });

    var B = declare(null, {

        constructor: function() {

            console.log("In constructor B");
        }

    });

    var C = declare(null, {

        constructor: function() {

            console.log("In constructor C");
        }

    });

    return declare([A, B, C], {

        constructor: function() {
            console.log("Check who am i!!")
            console.log("Type A: ", this instanceof A); //true
            console.log("Type B: ", this instanceof B); //false
            console.log("Type C: ", this instanceof C); //false

        }
    });
});


                </pre>
                <br>
                <br>
                <blockquote class="codeoutput">
                    <p>
                        In constructor A
                        <br>In constructor B
                        <br>In constructor C
                        <br>Check who am i!!
                        <br>Type A: true
                        <br>Type B: false
                        <br>Type C: false
                        <br>
                    </p>
                </blockquote>


                <br>
                <h3>Let's update it and change the Mixin sequence.</h3>
                <pre class="prettyprint lang-js">

 return declare([C, B, A], {

        constructor: function() {
            console.log("Check who am i!!")
            console.log("Type A: ", this instanceof A); //true
            console.log("Type B: ", this instanceof B); //false
            console.log("Type C: ", this instanceof C); //false

        }
    });

                </pre>


                <blockquote class="codeoutput">
                    <p>
                        In constructor C
                        <br>In constructor B
                        <br>In constructor A
                        <br>Check who am i!!
                        <br>Type A: false
                        <br>Type B: false
                        <br>Type C: true
                        <br>
                    </p>
                </blockquote>

                <br>
                <br>
                <h3>Checking method override.</h3>
                <br>
                <pre class="prettyprint lang-js">

/**
 * define() is a foundational AMD API.
 * It allows us to define a module and its dependencies.
 * Once dojo/query and dojo/on are loaded (which doesn't happen until their dependencies are loaded, and so on),
 * the callback function is called and module instance passed to it.
 */

define([
    "dojo/_base/declare"
], function(declare) {

    var A = declare(null, {

        m1: function() {
            console.log("In A -> m1");
        },

        m2: function() {
            console.log("In A -> m2");
        }

    });

    var B = declare(null, {

        m1: function() {
            console.log("In B -> m1");
        },

        m2: function() {
            console.log("In B -> m2");
        }

    });

    var C = declare(null, {

        m1: function() {
            console.log("In C -> m1");
        }

    });

    return declare([A, B, C], {

        constructor: function() {
            this.m1();
            this.m2();
        }
    });
});


                </pre>
                <br>
                <h3>We get the output like...</h3>


                <blockquote class="codeoutput">
                    <p>
                        In C -> m1
                        <br>In B -> m2
                        <br>
                    </p>
                </blockquote>

                <br>

                <br>
                <h3>Updating MixIn sequence.</h3>
                <pre class="prettyprint lang-js">

 return declare([C, B, A], {

        constructor: function() {
            this.m1();
            this.m2();
        }
    });

                </pre>
                <br>
                <h3>We get the output like...</h3>
                <blockquote class="codeoutput">
                    <p>
                        In A -> m1
                        <br>In A -> m2
                        <br>
                    </p>
                </blockquote>

                <br>
                <h3>Changing method call flow.</h3>
                <br>
                <pre class="prettyprint lang-js">

/**
 * define() is a foundational AMD API.
 * It allows us to define a module and its dependencies.
 * Once dojo/query and dojo/on are loaded (which doesn't happen until their dependencies are loaded, and so on),
 * the callback function is called and module instance passed to it.
 */

define([
    "dojo/_base/declare"
], function(declare) {

    var A = declare(null, {

        m1: function() {
            
            console.log("In A -> m1");
        }

    });

    var B = declare(null, {

        m1: function() {
            this.inherited(arguments);
            console.log("In B -> m1");
        }

    });


    return declare([A, B], {

        constructor: function() {
            this.m1();
        }
    });
});


                </pre>

                <blockquote class="codeoutput">
                    <p>
                        In A -> m1
                        <br>In B -> m1
                        <br>
                    </p>
                </blockquote>


                <br>
                <h3>Updating this.inherited(arguments) call sequence.</h3>
                <pre class="prettyprint lang-js">

 var B = declare(null, {

        m1: function() {
           
            console.log("In B -> m1");
            this.inherited(arguments);
        }

    });

                </pre>
                <br>
                <h3>We get the output like...</h3>
                <blockquote class="codeoutput">
                    <p>
                        In B -> m1
                        <br>In A -> m1
                        <br>
                    </p>
                </blockquote>

            </section>

            <section>
                <h1 class="section-heading">More DOJO Article
                    <span class="arrow"></span>
                </h1>
                <br/>

                <blockquote class="morearticle">
                    Go on the <a href="http://icodingclub.github.io/">main page</a> for more DOJO articles
                </blockquote>
            </section>

            <section>
                <h1 class="section-heading">comments
                    <span class="arrow"></span>
                </h1>
                <div id="disqus_thread"></div>
            </section>
        </section>
        <aside class="add" id="addContainer">
        </aside>
    </div>
    </div>
    <footer id="footer">
    </footer>


    <script type="text/javascript" src="/resource/js/base.min.js"></script>
    <script type="text/javascript">
    addMgr.init();
    disqMgr.init('icodingclubdojo');
    </script>

    <script async src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=css&skin=sunburst"></script>

</body>

</html>
